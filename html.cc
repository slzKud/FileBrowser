std::string FRONTEND_HTML_BASE64 = "PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KCjxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgogICAgPHRpdGxlPkZpbGUgQnJvd3NlcjwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgICAgOnJvb3QgewogICAgICAgICAgICAtLXByaW1hcnk6ICM0MzYxZWU7CiAgICAgICAgICAgIC0tc2Vjb25kYXJ5OiAjM2YzN2M5OwogICAgICAgICAgICAtLXN1Y2Nlc3M6ICM0Y2M5ZjA7CiAgICAgICAgICAgIC0tZGFuZ2VyOiAjZjcyNTg1OwogICAgICAgICAgICAtLWxpZ2h0OiAjZjhmOWZhOwogICAgICAgICAgICAtLWRhcms6ICMyMTI1Mjk7CiAgICAgICAgfQoKICAgICAgICAqIHsKICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgIH0KCiAgICAgICAgYm9keSB7CiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCBUYWhvbWEsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNjsKICAgICAgICAgICAgY29sb3I6IHZhcigtLWRhcmspOwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmN2ZmOwogICAgICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgIH0KCiAgICAgICAgLmNvbnRhaW5lciB7CiAgICAgICAgICAgIG1heC13aWR0aDogMTIwMHB4OwogICAgICAgICAgICBtYXJnaW46IDAgYXV0bzsKICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAyMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICB9CgogICAgICAgIGhlYWRlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgdmFyKC0tcHJpbWFyeSksIHZhcigtLXNlY29uZGFyeSkpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICB9CgogICAgICAgIC5wYXRoLW5hdiB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWxpZ2h0KTsKICAgICAgICAgICAgcGFkZGluZzogMTVweCAyMHB4OwogICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RlZTJlNjsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgZmxleC13cmFwOiB3cmFwOwogICAgICAgIH0KCiAgICAgICAgLmJyZWFkY3J1bWIgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBsaXN0LXN0eWxlOiBub25lOwogICAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDsKICAgICAgICB9CgogICAgICAgIC5icmVhZGNydW1iLWl0ZW0gewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIH0KCiAgICAgICAgLmJyZWFkY3J1bWItaXRlbSBhIHsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICAgICAgICAgIHBhZGRpbmc6IDVweCA4cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7CiAgICAgICAgfQoKICAgICAgICAuYnJlYWRjcnVtYi1pdGVtIGE6aG92ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDY3LCA5NywgMjM4LCAwLjEpOwogICAgICAgIH0KCiAgICAgICAgLmJyZWFkY3J1bWItaXRlbTo6YWZ0ZXIgewogICAgICAgICAgICBjb250ZW50OiAnLyc7CiAgICAgICAgICAgIG1hcmdpbjogMCA4cHg7CiAgICAgICAgICAgIGNvbG9yOiAjNmM3NTdkOwogICAgICAgIH0KCiAgICAgICAgLmJyZWFkY3J1bWItaXRlbTpsYXN0LWNoaWxkOjphZnRlciB7CiAgICAgICAgICAgIGNvbnRlbnQ6IG5vbmU7CiAgICAgICAgfQoKICAgICAgICAuY29udHJvbHMgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBnYXA6IDEwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHggMjBweDsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsKICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZWUyZTY7CiAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDsKICAgICAgICB9CgogICAgICAgIC5idG4gewogICAgICAgICAgICBwYWRkaW5nOiA4cHggMTZweDsKICAgICAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7CiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1mbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBnYXA6IDVweDsKICAgICAgICB9CgogICAgICAgIC5idG4tcHJpbWFyeSB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgfQoKICAgICAgICAuYnRuLWRhbmdlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWRhbmdlcik7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICB9CgogICAgICAgIC5idG46aG92ZXIgewogICAgICAgICAgICBvcGFjaXR5OiAwLjk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTsKICAgICAgICB9CgogICAgICAgIC5maWxlLWxpc3QgewogICAgICAgICAgICBsaXN0LXN0eWxlOiBub25lOwogICAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgIH0KCiAgICAgICAgLmZpbGUtaXRlbSB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIHBhZGRpbmc6IDEycHggMjBweDsKICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlOWVjZWY7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4yczsKICAgICAgICB9CgogICAgICAgIC5maWxlLWl0ZW06aG92ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOwogICAgICAgIH0KCiAgICAgICAgLmZpbGUtaWNvbiB7CiAgICAgICAgICAgIHdpZHRoOiA0MHB4OwogICAgICAgICAgICBoZWlnaHQ6IDQwcHg7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDsKICAgICAgICAgICAgY29sb3I6ICM2Yzc1N2Q7CiAgICAgICAgfQoKICAgICAgICAuZmlsZS1pbmZvIHsKICAgICAgICAgICAgZmxleC1ncm93OiAxOwogICAgICAgIH0KCiAgICAgICAgLmZpbGUtbmFtZSB7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDRweDsKICAgICAgICB9CgogICAgICAgIC5maWxlLXNpemUgewogICAgICAgICAgICBmb250LXNpemU6IDAuODVyZW07CiAgICAgICAgICAgIGNvbG9yOiAjNmM3NTdkOwogICAgICAgIH0KCiAgICAgICAgLmZpbGUtYWN0aW9ucyB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGdhcDogOHB4OwogICAgICAgIH0KCiAgICAgICAgLmFjdGlvbi1idG4gewogICAgICAgICAgICBiYWNrZ3JvdW5kOiBub25lOwogICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgY29sb3I6ICM2Yzc1N2Q7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDsKICAgICAgICAgICAgdHJhbnNpdGlvbjogY29sb3IgMC4yczsKICAgICAgICB9CgogICAgICAgIC5hY3Rpb24tYnRuOmhvdmVyIHsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgICAgIH0KCiAgICAgICAgLmZvbGRlciB7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICB9CgogICAgICAgIC5mb2xkZXI6aG92ZXIgLmZpbGUtbmFtZSB7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgICAgICB9CgogICAgICAgIC5tb2RhbCB7CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgdG9wOiAwOwogICAgICAgICAgICBsZWZ0OiAwOwogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7CiAgICAgICAgICAgIHotaW5kZXg6IDEwMDA7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIH0KCiAgICAgICAgLm1vZGFsLWNvbnRlbnQgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDVweCAxNXB4IHJnYmEoMCwgMCwgMCwgMC4zKTsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIG1heC13aWR0aDogNTAwcHg7CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgfQoKICAgICAgICAubW9kYWwtaGVhZGVyIHsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeSk7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICB9CgogICAgICAgIC5tb2RhbC1ib2R5IHsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICB9CgogICAgICAgIC5mb3JtLWdyb3VwIHsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICB9CgogICAgICAgIC5mb3JtLWdyb3VwIGxhYmVsIHsKICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgICB9CgogICAgICAgIC5mb3JtLWNvbnRyb2wgewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgcGFkZGluZzogMTBweDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NlZDRkYTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgICAgfQoKICAgICAgICAubW9kYWwtZm9vdGVyIHsKICAgICAgICAgICAgcGFkZGluZzogMTVweCAyMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwogICAgICAgICAgICBnYXA6IDEwcHg7CiAgICAgICAgfQoKICAgICAgICAucHJvZ3Jlc3MtY29udGFpbmVyIHsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMjBweDsKICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICB9CgogICAgICAgIC5wcm9ncmVzcy1iYXIgewogICAgICAgICAgICBoZWlnaHQ6IDEwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlOWVjZWY7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICB9CgogICAgICAgIC5wcm9ncmVzcy1maWxsIHsKICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zdWNjZXNzKTsKICAgICAgICAgICAgd2lkdGg6IDAlOwogICAgICAgICAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzOwogICAgICAgIH0KCiAgICAgICAgLnVwbG9hZC1zdGF0dXMgewogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICB9CgogICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkgewogICAgICAgICAgICAuY29udHJvbHMgewogICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLmZpbGUtaXRlbSB7CiAgICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC5maWxlLWFjdGlvbnMgewogICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDsKICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIDwvc3R5bGU+CjwvaGVhZD4KCjxib2R5PgogICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIj4KICAgICAgICA8aGVhZGVyPgogICAgICAgICAgICA8aDE+RmlsZSBCcm93c2VyPC9oMT4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3VycmVudC1wYXRoIiBpZD0iY3VycmVudC1wYXRoIj4vPC9kaXY+CiAgICAgICAgPC9oZWFkZXI+CgogICAgICAgIDxkaXYgY2xhc3M9InBhdGgtbmF2Ij4KICAgICAgICAgICAgPHVsIGNsYXNzPSJicmVhZGNydW1iIiBpZD0iYnJlYWRjcnVtYiI+PC91bD4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBjbGFzcz0iY29udHJvbHMiPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIG9uY2xpY2s9Im9wZW5VcGxvYWRNb2RhbCgpIj4KICAgICAgICAgICAgICAgIDxpPiYjMTI4MTkzOzwvaT4gVXBsb2FkIEZpbGUKICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0ib3BlbkZvbGRlck1vZGFsKCkiPgogICAgICAgICAgICAgICAgPGk+JiMxMjgxOTM7PC9pPiBDcmVhdGUgRm9sZGVyCiAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIG9uY2xpY2s9InJlZnJlc2hMaXN0KCkiPgogICAgICAgICAgICAgICAgPGk+JiMxMjgyNjA7PC9pPiBSZWZyZXNoCiAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgIDwvZGl2PgoKICAgICAgICA8dWwgY2xhc3M9ImZpbGUtbGlzdCIgaWQ9ImZpbGUtbGlzdCI+PC91bD4KICAgIDwvZGl2PgoKICAgIDwhLS0gVXBsb2FkIE1vZGFsIC0tPgogICAgPGRpdiBjbGFzcz0ibW9kYWwiIGlkPSJ1cGxvYWQtbW9kYWwiPgogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPgogICAgICAgICAgICAgICAgPGgyPlVwbG9hZCBGaWxlPC9oMj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iZmlsZS1pbnB1dCI+U2VsZWN0IEZpbGU8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJmaWxlIiBpZD0iZmlsZS1pbnB1dCIgY2xhc3M9ImZvcm0tY29udHJvbCI+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb2dyZXNzLWNvbnRhaW5lciIgaWQ9InByb2dyZXNzLWNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJvZ3Jlc3MtYmFyIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJvZ3Jlc3MtZmlsbCIgaWQ9InByb2dyZXNzLWZpbGwiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InVwbG9hZC1zdGF0dXMiIGlkPSJ1cGxvYWQtc3RhdHVzIj4wJTwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1mb290ZXIiPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIiBvbmNsaWNrPSJjbG9zZU1vZGFsKCd1cGxvYWQtbW9kYWwnKSI+Q2FuY2VsPC9idXR0b24+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIG9uY2xpY2s9InVwbG9hZEZpbGUoKSI+VXBsb2FkPC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBGb2xkZXIgTW9kYWwgLS0+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbCIgaWQ9ImZvbGRlci1tb2RhbCI+CiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciI+CiAgICAgICAgICAgICAgICA8aDI+Q3JlYXRlIEZvbGRlcjwvaDI+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5Ij4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImZvbGRlci1uYW1lIj5Gb2xkZXIgTmFtZTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJmb2xkZXItbmFtZSIgY2xhc3M9ImZvcm0tY29udHJvbCIgcGxhY2Vob2xkZXI9IkVudGVyIGZvbGRlciBuYW1lIj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtZm9vdGVyIj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biIgb25jbGljaz0iY2xvc2VNb2RhbCgnZm9sZGVyLW1vZGFsJykiPkNhbmNlbDwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBvbmNsaWNrPSJjcmVhdGVGb2xkZXIoKSI+Q3JlYXRlPC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBSZW5hbWUgTW9kYWwgLS0+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbCIgaWQ9InJlbmFtZS1tb2RhbCI+CiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciI+CiAgICAgICAgICAgICAgICA8aDI+UmVuYW1lPC9oMj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0ibmV3LW5hbWUiPk5ldyBOYW1lPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9Im5ldy1uYW1lIiBjbGFzcz0iZm9ybS1jb250cm9sIj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgaWQ9InJlbmFtZS10eXBlIj4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIGlkPSJvcmlnaW5hbC1uYW1lIj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWZvb3RlciI+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4iIG9uY2xpY2s9ImNsb3NlTW9kYWwoJ3JlbmFtZS1tb2RhbCcpIj5DYW5jZWw8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0icGVyZm9ybVJlbmFtZSgpIj5SZW5hbWU8L2J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8c2NyaXB0PgogICAgICAgIGxldCBjdXJyZW50UGF0aCA9ICcnOwogICAgICAgIGxldCBjdXJyZW50QnJlYWRjcnVtYnMgPSBbXTsKICAgICAgICBsZXQgQ0hVTktfU0laRSA9IDUgKiAxMDI0ICogMTAyNDsgLy8gNU1CCiAgICAgICAgbGV0IGN1cnJlbnRVcGxvYWRJRCA9ICIiOwogICAgICAgIC8vIOWIneWni+WMlgogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7CiAgICAgICAgICAgIGdldENvbmZpZygpOwogICAgICAgICAgICBsb2FkRGlyZWN0b3J5KCcuJyk7CiAgICAgICAgfSk7CiAgICAgICAgLy8g6I635Y+W6YWN572u5YaF5a65CiAgICAgICAgZnVuY3Rpb24gZ2V0Q29uZmlnKCkgewogICAgICAgICAgICBmZXRjaChgL2NvbmZpZ2ApCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoQ0hVTktfU0laRSAhPSBkYXRhLmNodW5rc2l6ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygic2V0IGNodW5rIHNpemU6IiArIGRhdGEuY2h1bmtzaXplKTsKICAgICAgICAgICAgICAgICAgICAgICAgQ0hVTktfU0laRSA9IGRhdGEuY2h1bmtzaXplOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIEdldCBDb25maWc6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIC8vIOWKoOi9veebruW9leWGheWuuQogICAgICAgIGZ1bmN0aW9uIGxvYWREaXJlY3RvcnkocGF0aCkgewogICAgICAgICAgICBjdXJyZW50UGF0aCA9IHBhdGg7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJyZW50LXBhdGgnKS50ZXh0Q29udGVudCA9IHBhdGg7CgogICAgICAgICAgICAvLyDmm7TmlrDpnaLljIXlsZHlr7zoiKoKICAgICAgICAgICAgdXBkYXRlQnJlYWRjcnVtYnMocGF0aCk7CgogICAgICAgICAgICAvLyDojrflj5bmlofku7bliJfooagKICAgICAgICAgICAgZmV0Y2goYC9icm93c2U/cGF0aD0ke2VuY29kZVVSSUNvbXBvbmVudChwYXRoKX1gKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVuZGVyRmlsZUxpc3QoZGF0YSk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIGRpcmVjdG9yeTonLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0ZhaWxlZCB0byBsb2FkIGRpcmVjdG9yeScpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvLyDmm7TmlrDpnaLljIXlsZHlr7zoiKoKICAgICAgICBmdW5jdGlvbiB1cGRhdGVCcmVhZGNydW1icyhwYXRoKSB7CiAgICAgICAgICAgIGNvbnN0IGJyZWFkY3J1bWIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWRjcnVtYicpOwogICAgICAgICAgICBicmVhZGNydW1iLmlubmVySFRNTCA9ICcnOwoKICAgICAgICAgICAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCcvJykuZmlsdGVyKHAgPT4gcCAhPT0gJycpOwogICAgICAgICAgICBsZXQgYnJlZFBhdGggPSAnLic7CgogICAgICAgICAgICAvLyDmoLnnm67lvZUKICAgICAgICAgICAgY29uc3Qgcm9vdEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpOwogICAgICAgICAgICByb290SXRlbS5jbGFzc05hbWUgPSAnYnJlYWRjcnVtYi1pdGVtJzsKICAgICAgICAgICAgY29uc3Qgcm9vdExpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgICAgIHJvb3RMaW5rLmhyZWYgPSAnIyc7CiAgICAgICAgICAgIHJvb3RMaW5rLnRleHRDb250ZW50ID0gJ0hvbWUnOwogICAgICAgICAgICByb290TGluay5yZWwgPSAiLiI7CiAgICAgICAgICAgIHJvb3RMaW5rLm9uY2xpY2sgPSAoKSA9PiBsb2FkRGlyZWN0b3J5KHJvb3RMaW5rLnJlbCk7CiAgICAgICAgICAgIHJvb3RJdGVtLmFwcGVuZENoaWxkKHJvb3RMaW5rKTsKICAgICAgICAgICAgYnJlYWRjcnVtYi5hcHBlbmRDaGlsZChyb290SXRlbSk7CgogICAgICAgICAgICAvLyDlrZDnm67lvZUKICAgICAgICAgICAgcGFydHMuZm9yRWFjaCgocGFydCwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBicmVkUGF0aCArPSAnLycgKyBwYXJ0OwoKICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTsKICAgICAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTmFtZSA9ICdicmVhZGNydW1iLWl0ZW0nOwoKICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgICAgICAgICAgICAgIGxpbmsuaHJlZiA9ICcjJzsKICAgICAgICAgICAgICAgICAgICBsaW5rLnRleHRDb250ZW50ID0gcGFydDsKICAgICAgICAgICAgICAgICAgICBsaW5rLnJlbCA9IGJyZWRQYXRoOwogICAgICAgICAgICAgICAgICAgIGxpbmsub25jbGljayA9ICgpID0+IGxvYWREaXJlY3RvcnkobGluay5yZWwpOwoKICAgICAgICAgICAgICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGxpbmspOwogICAgICAgICAgICAgICAgICAgIGJyZWFkY3J1bWIuYXBwZW5kQ2hpbGQoaXRlbSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy8g5riy5p+T5paH5Lu25YiX6KGoCiAgICAgICAgZnVuY3Rpb24gcmVuZGVyRmlsZUxpc3QoZmlsZXMpIHsKICAgICAgICAgICAgY29uc3QgZmlsZUxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZS1saXN0Jyk7CiAgICAgICAgICAgIGZpbGVMaXN0LmlubmVySFRNTCA9ICcnOwoKICAgICAgICAgICAgLy8g5YWI5re75Yqg5paH5Lu25aS5CiAgICAgICAgICAgIGZpbGVzLmZpbHRlcihmID0+IGYudHlwZSA9PT0gJ2RpcmVjdG9yeScpLmZvckVhY2goZm9sZGVyID0+IHsKICAgICAgICAgICAgICAgIGlmIChmb2xkZXIubmFtZSAhPSAiLi4iKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpOwogICAgICAgICAgICAgICAgICAgIGxpLmNsYXNzTmFtZSA9ICdmaWxlLWl0ZW0gZm9sZGVyJzsKICAgICAgICAgICAgICAgICAgICBsaS5vbmNsaWNrID0gKCkgPT4gbG9hZERpcmVjdG9yeShjdXJyZW50UGF0aCArICcvJyArIGZvbGRlci5uYW1lKTsKCiAgICAgICAgICAgICAgICAgICAgbGkuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWxlLWljb24iPiYjMTI4MTkzOzwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWxlLWluZm8iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsZS1uYW1lIj4ke2ZvbGRlci5uYW1lfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsZS1zaXplIj5Gb2xkZXI8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZpbGUtYWN0aW9ucyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJhY3Rpb24tYnRuIiB0aXRsZT0iUmVuYW1lIiBvbmNsaWNrPSJvcGVuUmVuYW1lTW9kYWwoJyR7Zm9sZGVyLm5hbWV9JywgJ2ZvbGRlcicsIGV2ZW50KSI+JiM5OTk5OyYjNjUwMzk7PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJhY3Rpb24tYnRuIiB0aXRsZT0iRGVsZXRlIiBvbmNsaWNrPSJkZWxldGVJdGVtKCcke2ZvbGRlci5uYW1lfScsICdmb2xkZXInLCBldmVudCkiPiYjMTI4NDY1OyYjNjUwMzk7PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIGA7CgogICAgICAgICAgICAgICAgICAgIGZpbGVMaXN0LmFwcGVuZENoaWxkKGxpKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydHMgPSBjdXJyZW50UGF0aC5zcGxpdCgnLycpLmZpbHRlcihwID0+IHAgIT09ICcnKTsKICAgICAgICAgICAgICAgICAgICBwcmV2UGF0aCA9ICIuIgogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgKHBhcnRzLmxlbmd0aCAtIDEpOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgcHJldlBhdGggKz0gIi8iCiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZQYXRoICs9IHBhcnRzW2ldCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocGFydHMsY3VycmVudFBhdGgscHJldlBhdGgpCiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQYXRoICE9ICIuIikgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxpLmNsYXNzTmFtZSA9ICdmaWxlLWl0ZW0gZm9sZGVyJzsKICAgICAgICAgICAgICAgICAgICAgICAgbGkucmVsID0gcHJldlBhdGg7CiAgICAgICAgICAgICAgICAgICAgICAgIGxpLm9uY2xpY2sgPSAoKSA9PiBsb2FkRGlyZWN0b3J5KGxpLnJlbCk7CgogICAgICAgICAgICAgICAgICAgICAgICBsaS5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWxlLWljb24iPiYjMTI4MTkzOzwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsZS1pbmZvIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWxlLW5hbWUiPiR7Zm9sZGVyLm5hbWV9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsZS1zaXplIj5Gb2xkZXI8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsZS1hY3Rpb25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJhY3Rpb24tYnRuIiB0aXRsZT0iUmVuYW1lIiBvbmNsaWNrPSJvcGVuUmVuYW1lTW9kYWwoJyR7Zm9sZGVyLm5hbWV9JywgJ2ZvbGRlcicsIGV2ZW50KSI+JiM5OTk5OyYjNjUwMzk7PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYWN0aW9uLWJ0biIgdGl0bGU9IkRlbGV0ZSIgb25jbGljaz0iZGVsZXRlSXRlbSgnJHtmb2xkZXIubmFtZX0nLCAnZm9sZGVyJywgZXZlbnQpIj4mIzEyODQ2NTsmIzY1MDM5OzwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIGA7CgogICAgICAgICAgICAgICAgICAgICAgICBmaWxlTGlzdC5hcHBlbmRDaGlsZChsaSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vIOWGjea3u+WKoOaWh+S7tgogICAgICAgICAgICBmaWxlcy5maWx0ZXIoZiA9PiBmLnR5cGUgPT09ICdmaWxlJykuZm9yRWFjaChmaWxlID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTsKICAgICAgICAgICAgICAgIGxpLmNsYXNzTmFtZSA9ICdmaWxlLWl0ZW0nOwoKICAgICAgICAgICAgICAgIC8vIOagvOW8j+WMluaWh+S7tuWkp+WwjwogICAgICAgICAgICAgICAgbGV0IHNpemUgPSAnJzsKICAgICAgICAgICAgICAgIGlmIChmaWxlLnNpemUgPCAxMDI0KSB7CiAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IGZpbGUuc2l6ZSArICcgQic7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbGUuc2l6ZSA8IDEwMjQgKiAxMDI0KSB7CiAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IChmaWxlLnNpemUgLyAxMDI0KS50b0ZpeGVkKDIpICsgJyBLQic7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbGUuc2l6ZSA8IDEwMjQgKiAxMDI0ICogMTAyNCkgewogICAgICAgICAgICAgICAgICAgIHNpemUgPSAoZmlsZS5zaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKSArICcgTUInOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBzaXplID0gKGZpbGUuc2l6ZSAvICgxMDI0ICogMTAyNCAqIDEwMjQpKS50b0ZpeGVkKDIpICsgJyBHQic7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgbGkuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZpbGUtaWNvbiI+JiMxMjgxOTY7PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsZS1pbmZvIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsZS1uYW1lIj4ke2ZpbGUubmFtZX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsZS1zaXplIj4ke3NpemV9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsZS1hY3Rpb25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYWN0aW9uLWJ0biIgdGl0bGU9IkRvd25sb2FkIiBvbmNsaWNrPSJkb3dubG9hZEZpbGUoJyR7ZmlsZS5uYW1lfScsIGV2ZW50KSI+JiMxMTAxNTsmIzY1MDM5OzwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJhY3Rpb24tYnRuIiB0aXRsZT0iUmVuYW1lIiBvbmNsaWNrPSJvcGVuUmVuYW1lTW9kYWwoJyR7ZmlsZS5uYW1lfScsICdmaWxlJywgZXZlbnQpIj4mIzk5OTk7JiM2NTAzOTs8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYWN0aW9uLWJ0biIgdGl0bGU9IkRlbGV0ZSIgb25jbGljaz0iZGVsZXRlSXRlbSgnJHtmaWxlLm5hbWV9JywgJ2ZpbGUnLCBldmVudCkiPiYjMTI4NDY1OyYjNjUwMzk7PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICBgOwoKICAgICAgICAgICAgICAgIGZpbGVMaXN0LmFwcGVuZENoaWxkKGxpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvLyDliLfmlrDliJfooagKICAgICAgICBmdW5jdGlvbiByZWZyZXNoTGlzdCgpIHsKICAgICAgICAgICAgbG9hZERpcmVjdG9yeShjdXJyZW50UGF0aCk7CiAgICAgICAgfQoKICAgICAgICAvLyDmiZPlvIDkuIrkvKDmqKHmgIHmoYYKICAgICAgICBmdW5jdGlvbiBvcGVuVXBsb2FkTW9kYWwoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlLWlucHV0JykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzLWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzcy1maWxsJykuc3R5bGUud2lkdGggPSAnMCUnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBsb2FkLXN0YXR1cycpLnRleHRDb250ZW50ID0gJzAlJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwbG9hZC1tb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICAgICAgfQoKICAgICAgICAvLyDmiZPlvIDmlofku7blpLnmqKHmgIHmoYYKICAgICAgICBmdW5jdGlvbiBvcGVuRm9sZGVyTW9kYWwoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb2xkZXItbmFtZScpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb2xkZXItbW9kYWwnKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgICAgIH0KCiAgICAgICAgLy8g5omT5byA6YeN5ZG95ZCN5qih5oCB5qGGCiAgICAgICAgZnVuY3Rpb24gb3BlblJlbmFtZU1vZGFsKG5hbWUsIHR5cGUsIGV2ZW50KSB7CiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3LW5hbWUnKS52YWx1ZSA9IG5hbWU7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW5hbWUtdHlwZScpLnZhbHVlID0gdHlwZTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29yaWdpbmFsLW5hbWUnKS52YWx1ZSA9IG5hbWU7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW5hbWUtbW9kYWwnKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgICAgIH0KCiAgICAgICAgLy8g5YWz6Zet5qih5oCB5qGGCiAgICAgICAgZnVuY3Rpb24gY2xvc2VNb2RhbChtb2RhbElkKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vZGFsSWQpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgfQoKICAgICAgICAvLyDkuIrkvKDmlofku7YKICAgICAgICBmdW5jdGlvbiB1cGxvYWRGaWxlKCkgewogICAgICAgICAgICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZS1pbnB1dCcpOwogICAgICAgICAgICBjb25zdCBmaWxlID0gZmlsZUlucHV0LmZpbGVzWzBdOwoKICAgICAgICAgICAgaWYgKCFmaWxlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnUGxlYXNlIHNlbGVjdCBhIGZpbGUgdG8gdXBsb2FkJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzLWNvbnRhaW5lcicpOwogICAgICAgICAgICBjb25zdCBwcm9ncmVzc0ZpbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3Jlc3MtZmlsbCcpOwogICAgICAgICAgICBjb25zdCB1cGxvYWRTdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBsb2FkLXN0YXR1cycpOwoKICAgICAgICAgICAgcHJvZ3Jlc3NDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CgogICAgICAgICAgICB1cGxvYWRGaWxlX3JlYWwoZmlsZSwgY3VycmVudFBhdGgpOwogICAgICAgIH0KICAgICAgICAvL+WPkemAgeWQiOW5tuaWh+S7tueahOaMh+S7pAogICAgICAgIGFzeW5jIGZ1bmN0aW9uIHVwbG9hZEZpbGVfbWVyZ2UodGFyZ2V0UGF0aCwgZmlsZW5hbWUsIHVwbG9hZElkLCB0b3RhbENodW5rcykgewogICAgICAgICAgICBjb25zb2xlLmxvZyh0YXJnZXRQYXRoLCBmaWxlbmFtZSwgdXBsb2FkSWQsIHRvdGFsQ2h1bmtzKTsKICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdwYXRoJywgdGFyZ2V0UGF0aCk7CiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZW5hbWUnLCBmaWxlbmFtZSk7CiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndXBsb2FkX2lkJywgdXBsb2FkSWQpOwogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3RvdGFsX2NodW5rcycsIHRvdGFsQ2h1bmtzKTsKICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL3VwbG9hZC9tZXJnZScsIHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgYm9keTogZm9ybURhdGEKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICAgICAgICAgIGN1cnJlbnRVcGxvYWRJRD11cGxvYWRJZDsKICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdjb21wbGV0ZWQnKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbWVyZ2UgY29tcGxldGVkOicsIHJlc3VsdC51cGxvYWRfaWQpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzLWZpbGwnKS5zdHlsZS53aWR0aCA9IGAxMDAlYDsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGxvYWQtc3RhdHVzJykudGV4dENvbnRlbnQgPSBgMTAwJWA7CgogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY2xvc2VNb2RhbCgndXBsb2FkLW1vZGFsJyk7CiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaExpc3QoKTsKICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdtZXJnZScpIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHVwbG9hZEZpbGVfbWVyZ2UoIi4iLCAiMS50eHQiLCBjdXJyZW50VXBsb2FkSUQsIDApOwogICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdmYWlsZWQnKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbWVyZ2UgZmFpbGVkOicsIHJlc3VsdC5maWxlbmFtZSk7CiAgICAgICAgICAgICAgICBhbGVydCgiTWVyZ2UgZmlsZSBmYWlsZWQuIikKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGNsb3NlTW9kYWwoJ3VwbG9hZC1tb2RhbCcpOwogICAgICAgICAgICAgICAgICAgIHJlZnJlc2hMaXN0KCk7CiAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIOWIhuWdl+S4iuS8oOaWh+S7tgogICAgICAgIGFzeW5jIGZ1bmN0aW9uIHVwbG9hZEZpbGVfcmVhbChmaWxlLCB0YXJnZXRQYXRoKSB7CiAgICAgICAgICAgIGNvbnN0IHRvdGFsQ2h1bmtzID0gTWF0aC5jZWlsKGZpbGUuc2l6ZSAvIENIVU5LX1NJWkUpOwogICAgICAgICAgICBsZXQgdXBsb2FkSWQgPSAnJzsKCiAgICAgICAgICAgIGZvciAobGV0IGNodW5rSW5kZXggPSAwOyBjaHVua0luZGV4IDwgdG90YWxDaHVua3M7IGNodW5rSW5kZXgrKykgewogICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBjaHVua0luZGV4ICogQ0hVTktfU0laRTsKICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IE1hdGgubWluKHN0YXJ0ICsgQ0hVTktfU0laRSwgZmlsZS5zaXplKTsKICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rID0gZmlsZS5zbGljZShzdGFydCwgZW5kKTsKCiAgICAgICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdwYXRoJywgdGFyZ2V0UGF0aCk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGVuYW1lJywgZmlsZS5uYW1lKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndXBsb2FkX2lkJywgdXBsb2FkSWQpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdjaHVua19pbmRleCcsIGNodW5rSW5kZXgpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd0b3RhbF9jaHVua3MnLCB0b3RhbENodW5rcyk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBjaHVuaywgZmlsZS5uYW1lKTsKCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy91cGxvYWQnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBmb3JtRGF0YQogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudXBsb2FkX2lkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZElkID0gcmVzdWx0LnVwbG9hZF9pZDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAnbWVyZ2UnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVcGxvYWQgQmxvY2tzIGNvbXBsZXRlZCwgYnV0IGZpbGUgbmVlZCB0byBtZXJnZTonLCByZXN1bHQuZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3Jlc3MtZmlsbCcpLnN0eWxlLndpZHRoID0gYDk1JWA7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGxvYWQtc3RhdHVzJykudGV4dENvbnRlbnQgPSBgOTUlYDsKCiAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZEZpbGVfbWVyZ2UodGFyZ2V0UGF0aCxmaWxlLm5hbWUsdXBsb2FkSWQsdG90YWxDaHVua3MpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvLyDmm7TmlrDov5vluqbmnaEKICAgICAgICAgICAgICAgICAgICB1cGRhdGVQcm9ncmVzc0JhcihjaHVua0luZGV4ICsgMSwgdG90YWxDaHVua3MpOwoKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVXBsb2FkIGZhaWxlZDonLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgLy8g6YeN6K+V6YC76L6R5Y+v5Lul5Zyo6L+Z6YeM5a6e546wCiAgICAgICAgICAgICAgICAgICAgY2h1bmtJbmRleC0tOyAvLyDph43or5XlvZPliY3lnZcKICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpOyAvLyDlu7bov5/ph43or5UKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g5pu05paw6L+b5bqm5p2hCiAgICAgICAgZnVuY3Rpb24gdXBkYXRlUHJvZ3Jlc3NCYXIoY2h1bmtJbmRleCwgdG90YWxDaHVua3MpIHsKICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLnJvdW5kKChjaHVua0luZGV4IC8gdG90YWxDaHVua3MpICogOTApOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3Jlc3MtZmlsbCcpLnN0eWxlLndpZHRoID0gYCR7cHJvZ3Jlc3N9JWA7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGxvYWQtc3RhdHVzJykudGV4dENvbnRlbnQgPSBgJHtwcm9ncmVzc30lYDsKICAgICAgICB9CgogICAgICAgIC8vIOajgOafpeS4iuS8oOi/m+W6pgogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGNoZWNrVXBsb2FkUHJvZ3Jlc3ModXBsb2FkSWQsIHRvdGFsQ2h1bmtzKSB7CiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC91cGxvYWQvcHJvZ3Jlc3M/dXBsb2FkX2lkPSR7dXBsb2FkSWR9JnRvdGFsX2NodW5rcz0ke3RvdGFsQ2h1bmtzfWApOwogICAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ1VwbG9hZCBwcm9ncmVzczonLCBwcm9ncmVzcyk7CiAgICAgICAgICAgIHJldHVybiBwcm9ncmVzczsKICAgICAgICB9CgogICAgICAgIC8vIOWPlua2iOS4iuS8oAogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGNhbmNlbFVwbG9hZCh1cGxvYWRJZCwgdG90YWxDaHVua3MpIHsKICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd1cGxvYWRfaWQnLCB1cGxvYWRJZCk7CiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndG90YWxfY2h1bmtzJywgdG90YWxDaHVua3MpOwoKICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL3VwbG9hZC9jYW5jZWwnLCB7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgIGJvZHk6IGZvcm1EYXRhCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOwogICAgICAgICAgICBjb25zb2xlLmxvZygnVXBsb2FkIGNhbmNlbGxlZDonLCByZXN1bHQpOwogICAgICAgIH0KICAgICAgICAvLyDliJvlu7rmlofku7blpLkKICAgICAgICBmdW5jdGlvbiBjcmVhdGVGb2xkZXIoKSB7CiAgICAgICAgICAgIGNvbnN0IGZvbGRlck5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9sZGVyLW5hbWUnKS52YWx1ZS50cmltKCk7CgogICAgICAgICAgICBpZiAoIWZvbGRlck5hbWUpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdQbGVhc2UgZW50ZXIgYSBmb2xkZXIgbmFtZScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmZXRjaCgnL21rZGlyJywgewogICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYm9keTogYHBhdGg9JHtlbmNvZGVVUklDb21wb25lbnQoY3VycmVudFBhdGgpfSZkaXJuYW1lPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGZvbGRlck5hbWUpfWAKICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VNb2RhbCgnZm9sZGVyLW1vZGFsJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UudGV4dCgpLnRoZW4odGV4dCA9PiBhbGVydCgnRXJyb3I6ICcgKyB0ZXh0KSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gY3JlYXRlIGZvbGRlcicpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvLyDmiafooYzph43lkb3lkI0KICAgICAgICBmdW5jdGlvbiBwZXJmb3JtUmVuYW1lKCkgewogICAgICAgICAgICBjb25zdCBuZXdOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ldy1uYW1lJykudmFsdWUudHJpbSgpOwogICAgICAgICAgICBjb25zdCB0eXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbmFtZS10eXBlJykudmFsdWU7CiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcmlnaW5hbC1uYW1lJykudmFsdWU7CgogICAgICAgICAgICBpZiAoIW5ld05hbWUpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdQbGVhc2UgZW50ZXIgYSBuZXcgbmFtZScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IHR5cGUgPT09ICdmaWxlJyA/ICcvcmVuYW1lJyA6ICcvcmVuYW1lJzsKCiAgICAgICAgICAgIGZldGNoKGVuZHBvaW50LCB7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBib2R5OiBgcGF0aD0ke2VuY29kZVVSSUNvbXBvbmVudChjdXJyZW50UGF0aCl9Jm9sZG5hbWU9JHtlbmNvZGVVUklDb21wb25lbnQob3JpZ2luYWxOYW1lKX0mbmV3bmFtZT0ke2VuY29kZVVSSUNvbXBvbmVudChuZXdOYW1lKX1gCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlTW9kYWwoJ3JlbmFtZS1tb2RhbCcpOwogICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoTGlzdCgpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnRleHQoKS50aGVuKHRleHQgPT4gYWxlcnQoJ0Vycm9yOiAnICsgdGV4dCkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICBhbGVydCgnRmFpbGVkIHRvIHJlbmFtZScpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvLyDliKDpmaTpobnnm64KICAgICAgICBmdW5jdGlvbiBkZWxldGVJdGVtKG5hbWUsIHR5cGUsIGV2ZW50KSB7CiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwoKICAgICAgICAgICAgaWYgKCFjb25maXJtKGBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlICR7bmFtZX0/YCkpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgZW5kcG9pbnQgPSB0eXBlID09PSAnZmlsZScgPyAnL2RlbGV0ZScgOiAnL2RlbGV0ZV9mb2xkZXInOwoKICAgICAgICAgICAgZmV0Y2goZW5kcG9pbnQsIHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGJvZHk6IGBwYXRoPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGN1cnJlbnRQYXRoKX0mbmFtZT0ke2VuY29kZVVSSUNvbXBvbmVudChuYW1lKX1gCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UudGV4dCgpLnRoZW4odGV4dCA9PiBhbGVydCgnRXJyb3I6ICcgKyB0ZXh0KSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gZGVsZXRlJyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8vIOS4i+i9veaWh+S7tgogICAgICAgIGZ1bmN0aW9uIGRvd25sb2FkRmlsZShuYW1lLCBldmVudCkgewogICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKCiAgICAgICAgICAgIGNvbnN0IHVybCA9IGAvZG93bmxvYWQ/cGF0aD0ke2VuY29kZVVSSUNvbXBvbmVudChjdXJyZW50UGF0aCl9JmZpbGVuYW1lPSR7ZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpfWA7CiAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgICAgIGxpbmsuaHJlZiA9IHVybDsKICAgICAgICAgICAgbGluay5kb3dubG9hZCA9IG5hbWU7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICAgICAgICAgIGxpbmsuY2xpY2soKTsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTsKICAgICAgICB9CiAgICA8L3NjcmlwdD4KPC9ib2R5PgoKPC9odG1sPg==";